"use strict";function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){asyncGeneratorStep(h,d,e,f,g,"next",a)}function g(a){asyncGeneratorStep(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}if(location.pathname.includes("/user/register")){var btn=document.getElementById("layout-btn-register-redirect");btn&&btn.remove()}(function(){var a=document.getElementById("layout-btn-log-in");a&&(a.onclick=/*#__PURE__*/function(){var a=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function a(b){var c,d,e,f,g,h;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b.preventDefault(),c=document.getElementById("layout-input-email").value,d=document.getElementById("layout-input-password").value,a.next=5,fetch("/api/user/login",{method:"POST",redirect:"follow",cache:"no-cache",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:c,password:d})});case 5:if(e=a.sent,!(400<=e.status)){a.next=13;break}return a.next=9,e.json();case 9:return f=a.sent,g=f.msg||f.message||f.toString(),console.error(g),a.abrupt("return",alert(g));case 13:return a.prev=13,a.next=16,e.json();case 16:h=a.sent,a.next=24;break;case 19:return a.prev=19,a.t0=a["catch"](13),console.error(a.t0),sessionStorage.clear(),a.abrupt("return",document.getElementById("layout-btn-log-in").dispatchEvent(new Event("click")));case 24:sessionStorage.setItem("loggedIn",JSON.stringify(h.result)),setCookie("token",h.result.token),location.href=location.pathname.includes("/register")?"/user/home":location.href;case 27:case"end":return a.stop();}},a,this,[[13,19]])}));return function(){return a.apply(this,arguments)}}())})(),function(){var a=document.querySelector(".navbar-burger.burger");a&&(a.onclick=function(){var a=document.querySelector(".navbar-menu");return a.classList.contains("is-active")?a.classList.remove("is-active"):a.classList.add("is-active")})}();