"use strict";function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){asyncGeneratorStep(h,d,e,f,g,"next",a)}function g(a){asyncGeneratorStep(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}function unEnroll(){return _unEnroll.apply(this,arguments)}function _unEnroll(){return _unEnroll=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function a(b){var c,d,e,f,g;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("/api/enrollment/".concat(b),{redirect:"follow",cache:"no-cache",method:"delete",credentials:"include",headers:{Accept:"application/json"}});case 3:if(c=a.sent,!(400<=c.status)){a.next=11;break}return a.next=7,c.json();case 7:return d=a.sent,e=d.msg||d.message||d.toString(),console.error(e),a.abrupt("return",alert(e));case 11:return f=document.getElementById("module-btn-enroll"),f.classList.remove("is-danger"),f.classList.add("is-light"),f.innerHTML="\n    <i class=\"fas fa-hourglass-half\" style=\"margin-right: 7px;\"></i>\n    Wait ",f.onclick=void 0,a.abrupt("return",setTimeout(function(){f.classList.remove("is-light"),f.classList.add("is-primary"),f.innerHTML="\n        <i class=\"fas fa-check\" style=\"margin-right: 7px;\"></i>\n        Enroll",f.onclick=function(){return enroll(b)}},1e3));case 19:return a.prev=19,a.t0=a["catch"](0),g=a.t0.msg||a.t0.message||a.t0.toString(),console.error(g),a.abrupt("return",alert(g));case 24:case"end":return a.stop();}},a,this,[[0,19]])})),_unEnroll.apply(this,arguments)}function enroll(){return _enroll.apply(this,arguments)}function _enroll(){return _enroll=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function a(b){var c,d,e,f,g;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("/api/enrollment/create",{method:"post",redirect:"follow",cache:"no-cache",credentials:"include",body:JSON.stringify({moduleId:b}),headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:if(c=a.sent,!(400<=c.status)){a.next=11;break}return a.next=7,c.json();case 7:return d=a.sent,e=d.msg||d.message||d.toString(),console.error(e),a.abrupt("return",alert(e));case 11:return f=document.getElementById("module-btn-enroll"),f.classList.remove("is-primary"),f.classList.add("is-light"),f.innerHTML="\n      <i class=\"fas fa-hourglass-half\" style=\"margin-right: 7px;\"></i>\n      wait",f.onclick=void 0,a.abrupt("return",setTimeout(function(){f.classList.remove("is-light"),f.classList.add("is-danger"),f.innerHTML="\n        <i class=\"fas fa-times\" style=\"margin-right: 7px;\"></i>\n        Unenroll",f.onclick=function(){return unEnroll(b)}},1e3));case 19:return a.prev=19,a.t0=a["catch"](0),g=a.t0.msg||a.t0.message||a.t0.toString(),console.error(g),a.abrupt("return",alert(g));case 24:case"end":return a.stop();}},a,this,[[0,19]])})),_enroll.apply(this,arguments)}(function(){var a=document.getElementById("module-h-name");""===a.innerText.trim()&&(a.innerText="Unnamed");var b=document.getElementById("module-h-topic");""===b.innerText.trim()&&(b.innerText="No Topic")})();var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,lesson,_iterator=document.querySelectorAll("#module-lessons li a")[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)lesson=_step.value,""===lesson.innerText.trim()&&(lesson.innerText="unnamed #".concat(lesson.getAttribute("data-id")))}catch(a){_didIteratorError=!0,_iteratorError=a}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}document.querySelector("pre").innerHTML=document.querySelector("pre").innerHTML.trim();