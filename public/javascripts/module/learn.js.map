{"version":3,"sources":["learn.js"],"names":["select","what","id","document","querySelector","toLowerCase","classList","add","unSelect","maybe","remove","saveClick","sessionStorage","setItem","location","pathname","JSON","stringify","page","clearList","getElementById","innerHTML","clearPane","getSelId","eval","getAttribute","showModEditPane","module","topics","name","topic","authorId","get","then","us","email","moduleId","rs","map","r","stars","n","length","reduce","l","summary","console","error","alert","msg","message","toString","showLessEditPane","lesson","attachments","content","setLessContent","unsetLessContent","f","appendAttachment","lessonId","showQuestEditPane","question","correctAnswer","badAnswer1","badAnswer2","badAnswer3","toggleModule","focusedMod","ls","appendLesson","qs","q","appendQuestion","ms","saveProgress","pane","questionId","vars","parse","getItem","innerText","trim","value","toggleLesson","focusedLessId","toggleQuestion","appendModule","file","fs","list","tryRecallMod","memory","tryRecallLess","tryRecallQuest","cfg","redirect","cache","mode","credentials","headers","Accept","userId","fetch","response","status","json","errMsg","Promise","reject","m"],"mappings":"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","sourcesContent":["/**\n * Select (highlight) a list item.\n *\n * @param {'Module'|'Lesson'|'Question'} what\n * @param {!Number} id\n */\nfunction select(what, id) {\n  return document.querySelector(`#module-edit-list-${what.toLowerCase()} li[data-id='${id}']`).classList.add('has-background-light');\n}\n\n/**\n * Un-Select (un-highlights) a list item.\n *\n * @param {'Module'|'Lesson'|'Question'} what\n */\nfunction unSelect(what) {\n  const maybe = document.querySelector(`#module-edit-list-${what.toLowerCase()} li[class*=has-background-light]`);\n  if (maybe) maybe.classList.remove('has-background-light');\n}\n\n/**\n * Saves the last click. (this is recalled later)\n *\n * @param {'Module'|'Lesson'|'Question'} what\n * @param {!Number} id\n */\nfunction saveClick(what, id) {\n  return sessionStorage.setItem(`${location.pathname}?click`, JSON.stringify({page: what.toLowerCase(), id}));\n}\n\n/**\n * Clears a list.\n *\n * @param {'Module'|'Lesson'|'Question'} what\n */\nfunction clearList(what) {\n  return document.getElementById(`module-edit-list-${what.toLowerCase()}`).innerHTML = '';\n}\n\n/**\n * Clears the edit pane.\n */\nfunction clearPane() {\n  return document.getElementById('module-edit-pane').innerHTML = '';\n}\n\n/**\n * Gets the id of selected.\n *\n * @param {'Module'|'Lesson'|'Question'} what\n * @return {?Number}\n */\nfunction getSelId(what) {\n  const maybe = document.querySelector(`#module-edit-list-${what.toLowerCase()} li[class*=has-background-light]`);\n  return maybe ? eval(maybe.getAttribute('data-id')) : null;\n}\n\n/**\n * Shows the lesson edit pane.\n *\n * @param {!{id: !Number, name: ?String, authorId: !Number, topic: ?String, summary: ?String}} module\n * @param {!Array<!String>} topics\n * @return {Promise<void>}\n */\nasync function showModEditPane(module, topics = [ 'AI', 'Anthropology', 'Archeology', 'Architecture', 'Arts', 'Biology', 'Chemistry', 'Computer Science', 'Design', 'Drama', 'Economics', 'Engineering', 'Geography', 'History', 'Humanities', 'Languages', 'Law', 'Linguistics', 'Literature', 'Mathematics', 'Medicine', 'Philosophy', 'Physics', 'Political Science', 'Psychology', 'Sciences', 'Social Sciences', 'Sociology', 'Theology']) {\n  try {\n    document.getElementById('module-edit-pane').innerHTML = `\n      <h2 class=\"title\" style=\"margin-bottom: 10px;\">\n        Name\n      </h2>\n      \n      <div id=\"module-edit-name\" style=\"max-width: 300px;\">\n        ${module.name ? module.name : ''}\n      </div>\n      <h3 class=\"subtitle\" style=\"margin: 25px 0 0 0;\">\n        Topic\n      </h3>\n      <span id=\"module-edit-topic\" style=\"min-width: 150px;\">${module.topic ?\n        module.topic :\n        ''}</span>\n      \n      <section class=\"content\" style=\"margin-top: 40px;\">\n        <strong>Author</strong>   \n        <a href=\"/user/${module.authorId}\">\n          ${await get('User', {id: module.authorId}).then(us => us[0].email)}\n        </a>\n        <br>\n        <strong>Rating</strong> <span id=\"module-edit-rating\">${await get(\n      'Rating', {moduleId: module.id})\n      .then(rs => rs.map(r => r.stars))\n      .then(rs => {\n        const n = rs.length;\n        return n > 0 ? rs.reduce((l, r) => l + r) / n : 0;\n      })}/5</span>\n      </section>\n      <section class=\"is-medium\" style=\"margin-bottom: 30px;\">\n        <h2 class=\"title is-medium\" style=\"margin-bottom: 10px;\">Summary</h2>\n        <div id=\"module-edit-summary\"\n                  style=\"min-width: 100%; min-height: 90px; word-wrap: break-word; padding: 10px; border: 1px #c9c3c3 dashed;\">${module.summary ?\n      module.summary :\n      ''}</div>\n      </section>\n      <div class=\"field is-grouped\">\n        <button type=\"reset\" onclick=\"alert('Implement eroll to module')\" class=\"button is-info\" style=\"margin: 7px\">\n          <i class=\"fas fa-user-plus\"></i>\n          <span>Enrol</span>\n        </button>\n      </div>\n    `;\n  } catch (e) {\n    console.error(e);\n    return alert(e.msg || e.message || e.toString());\n  }\n}\n\n/**\n * Shows the lesson edit pane.\n *\n * @param {{id: !Number, moduleId: !Number, name: ?String, content: ?Boolean, summary: ?String}} lesson\n * @param {Array<{id: ?Number, name: !String}>} attachments\n */\nfunction showLessEditPane(lesson, attachments = []) {\n  document.getElementById('module-edit-pane').innerHTML = `\n    <form enctype=\"multipart/form-data\"\n          id=\"module-edit-form-lesson\"\n          disabled=\"true\"\n          class=\"lesson-edit-form column is-10-desktop is-full-tablet is-full-mobile\"\n          style=\"display: flex; flex-direction: column; justify-content: space-around; align-items: flex-start; margin-top: -15px;\">\n      <h2 class=\"title is-3\">Name</h2>\n      <input name=\"name\" value=\"${lesson.name ? lesson.name : ''}\" \n             autocomplete=\"on\" placeholder=\"e.g. Introduction to AI\"\n             style=\"background: #d3d3d329; padding: 5px; border: 1px #c9c3c3 dashed; min-width: 60%;\">\n      <h2 class=\"title is-3\" style=\"margin-top: 20px;\">Summary</h2>\n      <textarea name=\"summary\" autocomplete=\"on\"\n                style=\"padding: 5px; min-width: 650px; min-height: 50px; max-height: 400px; border: 1px #c9c3c3 dashed;\">${lesson.summary ? lesson.summary : ''}</textarea>\n      <h2 class=\"title is-3\" style=\"margin-top: 20px;\">Content</h2>\n      <p style=\"margin-bottom: 10px;\">Upload HTML file with the lesson content</p>\n      <div id=\"module-edit-lesson-content\"></div>\n      <input type=\"file\" name=\"lesson\" style=\"display: block; max-width: 200px; margin-top: 20px;\">\n      <h2 class=\"title is-3\" style=\"margin-top: 20px;\">Attachments (optional)</h2>\n      <p><strong>Select a file:</strong></p>\n      <br>\n      <ul style=\"list-style-type: disc; display: flex; flex-direction: column; justify-content: space-around; align-items: flex-start; margin-left: 19px;\">\n        <li>Image (.jpg, .jpeg, .png, .gif)</li>\n        <li>Audio (.mp3)</li>\n        <li>Video (.mp4, .mpg)</li>\n      </ul>\n      <br>\n      <input type=\"file\" name=\"attachments\" multiple style=\"display: block\">\n      <div style=\"display: flex; flex-direction: column; justify-content: space-around; align-items: flex-start; margin-top: 20px;\">\n        <h3 id=\"lesson-edit-h-uploaded-files title is-5\" style=\"margin-bottom: 8px;\">\n          Uploaded Files\n        </h3>\n        <ul id=\"module-edit-list-attachments\" style=\"display: flex; flex-direction: column; justify-content: flex-start; align-items: flex-start; min-width: 300px;\"></ul>\n      </div>\n      <div style=\"display: flex; flex-direction: row; justify-content: space-between; align-items: center; margin-top: 20px; min-width: 380px; max-width: 500px;\">\n        <button onclick=\"alert('Not Implemented Yet.')\" type=\"reset\" class=\"button is-warning\" style=\"min-width: 100px;\">\n          <i class=\"fas fa-undo\"></i>\n          <span>Reset</span>\n        </button>\n        <button onclick=\"event.preventDefault(); updateLess()\" class=\"button is-success\" style=\"min-width: 100px;\">\n          <i class=\"fas fa-check\"></i>\n          <span>Save</span>\n        </button>\n        <button onclick=\"event.preventDefault(); if (confirm('Delete lesson?')) destroyLess(${lesson.id})\" class=\"button is-danger\" style=\"min-width: 100px;\">\n          <i class=\"fas fa-times\"></i>\n          <span>Delete</span>\n        </button>\n      </div>\n    </form>\n    `;\n\n  // document.querySelector(\"form[enctype='multipart/form-data']\").onsubmit = function(e) {\n  //   return e.preventDefault();\n  // };\n\n  if (lesson.content) setLessContent();\n  else unsetLessContent();\n\n  for (const f of attachments) {\n    appendAttachment({id: f.id, lessonId: lesson.id, name: f.name});\n  }\n}\n\n/**\n * Shows the question edit pane.\n *\n * @param {{id: !Number, moduleId: !Number, correctAnswer: ?String, badAnswer1: ?String, badAnswer2: ?String, badAnswer3: ?String}} question\n */\nfunction showQuestEditPane(question) {\n  document.getElementById('module-edit-pane').innerHTML = `\n    <h1 class=\"title is-3\" style=\"margin-bottom: 10px;\">Question</h1>\n    <p><strong>Note:</strong> Save the current question before editing another one</p>\n    <br>\n    <div class=\"field\">\n      <a id=\"module-edit-question-name\" class=\"button is-medium is-light\" style=\"width: 100%; padding: 5px; border: 1px; margin: auto;\">${question.name ?\n    question.name :\n    ''}</a>\n    </div>\n    <br>\n\n    <div class=\"field\">\n      <h2 class=\"title is-3\" style=\"margin-bottom: 10px;\">Correct Answer</h2>\n      <a id=\"module-edit-question-answer\" class=\"button is-medium is-light\" style=\"width: 100%; padding: 5px; border: 1px; margin: auto;\">${question.correctAnswer ?\n    question.correctAnswer :\n    ''}</a>\n    </div>\n    <br>\n    \n    <h3 class=\"title is-3\" style=\"margin-bottom: 10px;\">Other Answers</h3>\n\n    <p><strong>Note:</strong> Include other answers which are wrong</p>\n\n    <br>\n\n    <div class=\"field is-horizontal\">\n      <a id=\"module-edit-question-bad-answer-1\" class=\"button is-medium is-light\" style=\"width: 100%; padding: 5px; border: 1px; margin-right: 10px;\">${question.badAnswer1 ?\n    question.badAnswer1 :\n    ''}</a>\n    </div>\n\n    <div class=\"field is-horizontal\">\n      <a id=\"module-edit-question-bad-answer-2\" class=\"button is-medium is-light\" style=\"width: 100%; padding: 5px; border: 1px; margin-right: 10px;\">${question.badAnswer2 ?\n    question.badAnswer2 :\n    ''}</a>\n    </div>\n    \n    <div class=\"field is-horizontal\">\n      <a id=\"module-edit-question-bad-answer-3\" class=\"button is-medium is-light\" style=\"width: 100%; padding: 5px; border: 1px; margin-right: 10px;\">${question.badAnswer3 ?\n    question.badAnswer3 :\n    ''}</a>\n    </div>\n    <br>\n\n    <div class=\"field is-grouped\">\n      <button type=\"submit\" onclick=\"updateQuest()\" class=\"button is-success\" style=\"margin: 7px\">\n        <i class=\"fas fa-check\"></i>\n        <span>Save</span>\n      </button>\n      <button type=\"reset\" onclick=\"alert('Not Implemented Yet.')\" class=\"button is-warning\" style=\"margin: 7px\">\n        <i class=\"fas fa-undo\"></i>\n        <span>Reset</span>\n      </button>\n      <button onclick=\"if (confirm('Delete question?')) destroyQuest(${question.id}) \" class=\"button is-danger\" style=\"margin: 7px\">\n        <i class=\"fas fa-check\"></i>\n        <span>Delete</span>\n      </button>\n    </div>\n  `;\n}\n\n/**\n * Toggle module. Run when a module is pressed. Shows the module-edit pane.\n *\n * @param {!Number} id\n * @return {Promise<void>}\n */\nasync function toggleModule(id) {\n  saveClick('Module', id);\n  const focusedMod = getSelId('Module');\n\n  if (focusedMod === id && !getSelId('Lesson') && !getSelId('Question')) {\n    // re-select *the same* module - do nothing\n    return;\n  } // else\n  unSelect('Lesson');\n  unSelect('Question');\n\n\n  if (focusedMod !== id) {\n    // selected *different* module\n    unSelect('Module');\n    select('Module', id);\n    clearList('Lesson');\n    clearList('Question');\n    get('Lesson', {moduleId: id}).then(ls => {\n      for (const l of ls) appendLesson(l);\n    });\n    get('Question', {moduleId: id}).then(qs => {\n      for (const q of qs) appendQuestion(q);\n    });\n  }\n  return showModEditPane(await get('Module', {id}).then(ms => ms[0]));\n}\n\n/**\n * Memorize the changes made to the input (or contenteditable) fields.\n */\nfunction saveProgress() {\n  const pane = document.getElementById('module-edit-pane');\n  const moduleId = getSelId('Module');\n  const lessonId = getSelId('Lesson');\n  const questionId = getSelId('Question');\n  if (moduleId && lessonId && !questionId) {\n    // TODO saveProgress for lesson\n  } else if (moduleId && !lessonId && questionId) {\n    if (!pane.querySelector('#module-edit-question-answer')) return;\n    const vars = JSON.stringify([{\n      authorId: JSON.parse(sessionStorage.getItem('loggedIn')).id,\n      badAnswer1 : pane.querySelector('#module-edit-question-bad-answer-1').innerText.trim(),\n      badAnswer2 : pane.querySelector('#module-edit-question-bad-answer-2').innerText.trim(),\n      badAnswer3 : pane.querySelector('#module-edit-question-bad-answer-3').innerText.trim(),\n      correctAnswer : pane.querySelector('#module-edit-question-answer').innerText.trim(),\n      name : pane.querySelector('#module-edit-question-name').innerText.trim(),\n    }]);\n    sessionStorage.setItem(`${location.pathname}/questions?id=${questionId}`, vars);\n    return sessionStorage.setItem(`${location.pathname}/questions?id=${questionId}&moduleId=${moduleId}`, vars);\n  } else if (moduleId && !lessonId && !questionId) {\n    if (!pane.querySelector('#module-edit-name')) return;\n    return sessionStorage.setItem(`${location.pathname}/modules?id=${moduleId}`,\n      JSON.stringify([{\n        name: pane.querySelector('#module-edit-name').innerText.trim(),\n        topic: pane.querySelector('#module-edit-topic').innerText.trim(),\n        authorId: JSON.parse(sessionStorage.getItem('loggedIn')).id,\n        summary: pane.querySelector('#module-edit-summary').value.trim(),\n      }]));\n  }\n}\n\n/**\n * Toggle module. Run when a module is pressed. Shows the module-edit pane.\n *\n * @param {!Number} id\n * @return {Promise<void>}\n */\nasync function toggleLesson(id) {\n  const focusedLessId = getSelId('Lesson');\n  if (id === focusedLessId) return;\n  saveClick('Lesson', id);\n  unSelect(focusedLessId === null ? 'Question' : 'Lesson');\n  select('Lesson', id);\n  const lesson = (await get('Lesson', {id, moduleId: getSelId('Module')}))[0];\n  return await showLessEditPane(lesson, await get('File', {lessonId: lesson.id}));\n}\n\n/**\n * Toggle question. Run when a question is pressed. Shows the question-edit pane.\n *\n * @param {!Number} id\n * @return {Promise<void>}\n */\nasync function toggleQuestion(id) {\n  if (id === getSelId('Question')) return;\n  saveClick('Question', id);\n  saveProgress();\n  unSelect('Question');\n  unSelect('Lesson');\n  select('Question', id);\n  return await showQuestEditPane((await get('Question', {id, moduleId: getSelId('Module')}))[0]);\n}\n\n/**\n * Appends a new module to module list (left-most list).\n *\n * @param {{id: !Number, authorId: !Number, name: ?String}} module\n */\nfunction appendModule(module = {id: null , name: null}) {\n  document.getElementById('module-edit-list-module').innerHTML += `\n    <li data-id=\"${module.id}\">\n      <a onclick=\"toggleModule(${module.id})\" style=\"min-width: 100px; padding: 10px; margin-right: 5px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;\">\n        <span>${module.name ? module.name : 'unnamed #' + module.id.toString()}</span>\n      </a>\n    </li>\n    `;\n}\n\n/**\n * Appends a lesson to the list of lessons AND created a form for editing it.\n *\n * @param {{id: !Number, moduleId: !Number, name: ?String}} lesson\n */\nfunction appendLesson(lesson) {\n  // append to the second (lesson) menu\n  document.getElementById('module-edit-list-lesson').innerHTML += `\n    <li data-id=\"${lesson.id}\"\n        data-module-id=\"${lesson.moduleId}\">\n      <a onclick=\"toggleLesson(${lesson.id})\" style=\"padding: 5px 10px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;\">\n        <span>${lesson.name ? lesson.name : 'unnamed #' + lesson.id}</span>\n      </a>\n    </li>\n    `;\n}\n\n/**\n * Appends a question to the quiz for the selected module.\n *\n * @param {{id: !Number, moduleId: !Number, name: ?String, correctAnswer: ?String, badAnswer1: ?String, badAnswer2: ?String, badAnswer3: ?String}} question\n */\nfunction appendQuestion(question) {\n  document.querySelector(`#module-edit-list-question`).innerHTML += `\n    <li data-id=\"${question.id}\"\n        data-module-id=\"${question.moduleId}\">\n      <a class=\"has-text-dark\" onclick=\"toggleQuestion(${question.id})\" style=\"padding: 5px 10px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;\">\n        <span>${question.name ? question.name : 'unnamed #' + question.id}</span>\n      </a>\n    </li>\n  `;\n}\n\n/**\n * Adds attachment to a list of attachments in a lesson.\n *\n * @param {!{id: ?Number, lessonId: !Number, name: !String}} file\n * @return {void}\n */\nasync function appendAttachment(file) {\n  try {\n    // after sending you don't have the ids (assigned by the DBMS)\n    if (file.id === undefined) {\n      file.id = await get('File', {lessonId: file.lessonId,  name: file.name}).then(fs => fs[0].id);\n    }\n    const list = document.getElementById('module-edit-list-attachments');\n    list.innerHTML += `\n    <li class=\"has-text-black\"\n        data-name=\"${file.name}\"\n        data-id=\"${file.id}\"\n        style=\"background: #e5e5e5d4; padding: 8px 12px; display: flex; flex-direction: row; justify-content: space-between; align-items: center; margin-bottom: 10px;\">\n      <div style=\"margin-right: 10px;\">${file.name}</div>\n      <a href=\"/file/${file.id}\" class=\"button is-link is-small\" download=\"${file.name}\" style=\"margin-right: 10px; float: left;\"><i class=\"fas fa-download\" style=\"margin-left: 10px;\"></i></a>\n      <a onclick=\"destroyAttach(${file.id}, ${file.lessonId})\" class=\"button is-small is-danger\"><i class=\"fas fa-times\" style=\"margin: 0; float: left;\"></i></a>\n    </li>\n      `;\n  } catch (e) {\n    console.error(e);\n    return alert(e.message || e.toString());\n  }\n}\n\nfunction setLessContent() {\n  const lessonId = getSelId('Lesson');\n  document.querySelector(\n    `form #module-edit-lesson-content`).innerHTML = `\n    <p class=\"lesson-edit-msg-has-lesson\">\n      <br>\n      <strong>NOTE</strong>\n      <br>\n      You have already uploaded lesson content!\n      <br>\n      Feel free to <strong>replace</strong> it by re-uploading another file.\n    </p>\n    <br>\n    <a href=\"/api/lesson/${lessonId}/download\"\n       class=\"button is-link is-small has-text-centered\"\n       download=\"lesson.html\">\n      <i class=\"fas fa-download icon\"></i>\n      <span>Download</span>\n    </a>\n    <!--<button class=\"button is-danger is-small\" onclick=\"destroyLess(${lessonId}).then(() => unsetLessContent())\">\n      <i class=\"fas fa-times icon\"></i>\n      <span>Delete</span>\n    </button>\n    -->\n  `;\n}\n\n/**\n * Remove the HTML content file from a lesson.\n */\nfunction unsetLessContent() {\n  document.querySelector(`form #module-edit-lesson-content`).innerHTML = `\n    <ul style=\"display: flex; flex-direction: column; justify-content: space-around;\">\n      <li>\n        <p><em>Only</em> include the <em>content</em> of the <code>&lt;body&gt;</code> tag</p>\n      </li>\n      <li>\n        <p>We will only accept <strong>HTML</strong> files</p>\n      </li>\n    </ul>\n  `;\n}\n\n//Populate the page using AJAX\n/**\n * Try to recall last click.\n */\n(async function() {\n  try {\n\n    const cfg = {\n      redirect: 'follow',\n      cache: 'no-cache',\n      mode: 'cors',\n      credentials: 'include',\n      headers: {Accept: 'application/json'},\n    };\n    const userId = JSON.parse(sessionStorage.getItem(\"loggedIn\")).id;\n    fetch(`/api/enrollment/search?userId=${userId}`,cfg)\n      .then(response => response.status >= 400\n        // if it goes wrong force it to jump to reject\n        ? response.json().then(errMsg => Promise.reject(errMsg))\n        // the JSON object is guaranteed to have a \"msg\" property\n        : response.json())\n    .then(json => {\n      for (const m of json) {\n        appendModule(m);\n      }\n    });\n\n    const memory = sessionStorage.getItem(`${location.pathname}?click`);\n    if (!memory) return false;\n    const {page, id} = JSON.parse(memory);\n\n    /**\n     * @return {Promise<Boolean>}\n     */\n    async function tryRecallMod() {\n      if (page !== 'module') {\n        return false;\n      } else if (!document.querySelector(`#module-edit-list-module li[data-id='${JSON.parse(memory).id}'] > a`)) {\n        return false;\n      }\n      await toggleModule(JSON.parse(memory).id);\n      return true;\n    }\n\n    /**\n     * @return {Promise<Boolean>}\n     */\n    async function tryRecallLess() {\n      if (page !== 'lesson') return false;\n      const ls = await get('Lesson', {id});\n      if (ls.length === 0) return false;\n      const {moduleId} = ls[0];\n      if (!document.querySelector(`#module-edit-list-module li[data-id='${moduleId}'] > a`)) {\n        return false;\n      }\n      await toggleModule(moduleId);\n      if (!document.querySelector(`#module-edit-list-lesson li[data-id='${id}'] > a`)) {\n        return false;\n      }\n      await toggleLesson(id);\n      return true;\n    }\n\n    /**\n     * @return {Promise<Boolean>}\n     */\n    async function tryRecallQuest() {\n      if (page !== 'question') return false;\n      const qs = await get('Question', {id});\n      if (qs.length === 0) return false;\n      const moduleId = qs[0].moduleId;\n      if (!document.querySelector(`#module-edit-list-module li[data-id='${moduleId}'] > a`)) {\n        return false;\n      }\n      await toggleModule(moduleId);\n      if (!document.querySelector(`#module-edit-list-question li[data-id='${id}'] > a`)) {\n        return false;\n      }\n      await toggleQuestion(id);\n      return true;\n    }\n\n    return (await tryRecallMod()) || ((await tryRecallLess()) || await tryRecallQuest());\n\n  } catch(e) {\n    const msg = e.msg || e.message || e.toString();\n    console.error(e);\n    return alert(msg)\n  }\n})();\n"]}